<div class="page-wrap height-100 mat-bg-primary image-background">
  <div class="session-form-hold">
    <md-progress-bar mode="determinate" class="session-progress"></md-progress-bar>
    <md-card>
      <md-card-content *ngIf="displayForm">
        <div class="text-center pb-1">
          <img src="assets/images/logo-full.png" alt="">
          <p class="text-muted">{{ titleMessage | translate }}</p>
        </div>
        <form role="form" novalidate [formGroup]="form" (ngSubmit)="submit()">
          <div class="">
            <small class="text-center form-error-msg" *ngIf="displayErrorMessage" role="alert">
              {{ errorMessage | translate }}
            </small>
            <formly-form [model]="model" [fields]="fields" [form]="form" class="full-width">
            </formly-form>
            <button
              md-raised-button
              class="mat-primary full-width mb-1"
              [disabled]="!isEnabled">{{ actionMessage | translate }}</button>
            <div class="text-center">
              <ng-container *ngFor="let action of routeActions">
                <a [routerLink]="[action.route]" class="mat-primary text-center full-width">{{ action.title | translate }}</a>
              </ng-container>
            </div>
          </div>
        </form>
      </md-card-content>
      <md-card-content  *ngIf="!displayForm">
        <div class="text-center pb-1">
          <img src="assets/images/logo-full.png" alt="">
          <ng-container *ngFor="let messageLine of feedbackMessage">
            <p class="text-muted">{{ messageLine | translate }}</p>
          </ng-container>
        </div>
        <div class="text-center">
          <ng-container *ngFor="let action of routeActions">
            <a [routerLink]="[action.route]" class="mat-primary text-center full-width">{{ action.title | translate }}</a>
          </ng-container>
        </div>
      </md-card-content>
    </md-card>
  </div>
</div>
